{"version":3,"sources":["firebaseconfig.js","context.js","Nav.js","articleService.js","Article.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","AuthContext","createContext","AuthProvider","children","useState","user","setUser","useEffect","onAuthStateChanged","Provider","value","Nav","titles","setArticleId","addArticle","removeArticle","useContext","newPostTitle","setNewPostTitle","newPostContent","setNewPostContent","onSubmit","e","preventDefault","trim","payload","author","displayName","title","body","date","Timestamp","now","addDoc","collection","then","id","className","type","placeholder","onChange","target","map","a","onClick","articleID","deleteDoc","doc","getDocs","querySnapshot","forEach","docu","push","data","getDoc","docSnap","exists","Article","articleId","article","setArticle","fetchArticleById","currArticle","Date","seconds","toString","SignIn","signInWithPopup","GoogleAuthProvider","SignOut","currentUser","signOut","App","fetchTitles","currTitles","setTitles","useAuthState","newTitles","filter","t","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69e95502.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth} from \"firebase/auth\"\nimport {getFirestore} from \"firebase/firestore\"\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCN6iq3p3EJEyqf82PAocJWniT_YAPQga8\",\n  authDomain: \"blog-e38ee.firebaseapp.com\",\n  projectId: \"blog-e38ee\",\n  storageBucket: \"blog-e38ee.appspot.com\",\n  messagingSenderId: \"72733205522\",\n  appId: \"1:72733205522:web:d5beca71e5b4a0c08864cb\"\n};\n\n// Initialize Firebase\n\n\nexport const app = initializeApp(firebaseConfig);\nexport const auth = getAuth();\nexport const db = getFirestore(app);","import { useEffect, useState, createContext } from 'react';\nimport { auth } from './firebaseconfig'\n\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [ user, setUser ] = useState(null);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(setUser);\n    }, []);\n\n    return (\n        <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>\n    );\n}\n","import React, { useState, useContext } from 'react';\nimport { db } from './firebaseconfig.js';\nimport { collection, addDoc, Timestamp, doc, deleteDoc } from 'firebase/firestore';\nimport { AuthContext } from './context.js';\n\n\nexport default function Nav({ titles, setArticleId, addArticle, removeArticle }) {\n\n    const { user } = useContext(AuthContext);\n\n    const [ newPostTitle, setNewPostTitle ] = useState('');\n    const [ newPostContent, setNewPostContent ] = useState('');\n\n    const createPost = (e) => {\n        e.preventDefault();\n\n        if (newPostContent.trim() === '' || newPostTitle === '') { return; }\n        if (user === null) { return; }\n\n        const payload = {\n            author: user.displayName,\n            title: newPostTitle,\n            body: newPostContent,\n            date: Timestamp.now(),\n        };\n\n        addDoc(collection(db, \"articles\"), payload)\n            .then((e) => {\n                addArticle({id: e.id, title: payload.title});\n            });\n    }\n\n    const handleChangeTitle = (e) => {\n        setNewPostTitle(e.target.value);\n    }\n\n    const handleChangePost = (e) => {\n        setNewPostContent(e.target.value);\n    }\n\n    const handleDelete = (articleID) => {\n        deleteDoc(doc(db, \"articles\", articleID))\n            .then((e) => {\n                removeArticle(articleID);\n            });\n    }\n\n\n    return (\n        <nav>\n            <form onSubmit={createPost} className=\"post-form\">\n                <input type=\"text\" placeholder=\"Title\" value={newPostTitle} onChange={handleChangeTitle} />\n                <textarea placeholder=\"Enter your post here\" value={newPostContent} onChange={handleChangePost}></textarea>\n                <input type=\"submit\" value=\"Create New Post\" />\n            </form>\n            <hr />\n            <ul>\n                {titles &&\n                    titles.map((a) => (\n                    <li key={a.id} onClick={() => setArticleId(a.id)}>\n                        {a.title}\n\n                        <button onClick={() => handleDelete(a.id)}>\n                            Delete\n                        </button>\n                    </li>\n                ))}\n            </ul>\n        </nav>\n  );\n}\n","import { collection, doc, getDoc, getDocs } from 'firebase/firestore';\nimport { db } from './firebaseconfig.js';\n\nexport async function fetchTitles() {\n    const querySnapshot = await getDocs(collection(db, \"articles\"));\n    const titles = [];\n    querySnapshot.forEach((docu) => titles.push({ id: docu.id, title: docu.data().title }));\n    return titles;\n}\n\nexport async function fetchArticleById(id) {\n    if (id === null) {\n        return null;\n    }\n    const docSnap = await getDoc(doc(db, \"articles\", id));\n    if (docSnap.exists()) {\n        return {\n            date: docSnap.data().date,\n            author: docSnap.data().author,\n            title: docSnap.data().title,\n            body: docSnap.data().body,\n        };\n    } else {\n        return null;\n    }\n}\n","import { useState, useEffect } from \"react\";\nimport { fetchArticleById } from \"./articleService\";\n\nexport default function Article({ articleId }) {\n  const [article, setArticle] = useState(null);\n\n  useEffect(() => {\n      fetchArticleById(articleId)\n        .then(currArticle => setArticle(currArticle));\n  }, [articleId]);\n\n    const date = article ? new Date(article.date.seconds*1000) : null;\n\n  return (\n    <article>\n      {!article ? (\n        <p>No article selected</p>\n      ) : (\n        <section>\n          <h2>{article.title}</h2>\n            <p className=\"date\">{`Posted: ${date ? date.toString() : \"N/A\"}`}</p>\n            <p className=\"author\">{`Author: ${article.author}`}</p>\n          <p className=\"body\">{article.body}</p>\n        </section>\n      )}\n    </article>\n  );\n}\n","import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { signInWithPopup, GoogleAuthProvider, signOut} from \"@firebase/auth\";\nimport { useAuthState} from \"react-firebase-hooks/auth\";\nimport { auth } from \"./firebaseconfig\";\nimport Nav from \"./Nav\";\nimport Article from \"./Article\";\nimport { fetchTitles } from \"./articleService\";\nimport { AuthProvider } from './context';\n\nfunction SignIn() {\n  function signInWithGoogle() {\n    signInWithPopup(auth, new GoogleAuthProvider())\n  }\n  return (\n    <div className=\"signin\">\n      <p>Welcome to my blog</p>\n      <button onClick={signInWithGoogle}>Sign In</button>\n    </div>\n  );\n}\n\nfunction SignOut() {\n  return(\n    auth.currentUser && (\n      <p>\n        Hello, {auth.currentUser.displayName}&nbsp;\n        <button onClick={() => signOut(auth)}>SignOut</button>\n      </p>\n    )\n  )\n}\n\nexport default function App() {\n    useEffect(() => {\n        fetchTitles()\n            .then((currTitles) => setTitles(currTitles.map((article) => ({ id: article.id, title: article.title }))));\n    }, []);\n\n    const [user] = useAuthState(auth);\n    const [titles, setTitles] = useState([]);\n    const [articleId, setArticleId] = useState(null);\n\n    const addArticle = (article) => {\n        titles.push({id: article.id, title: article.title});\n        setArticleId(article.id);\n    }\n\n    const removeArticle = (articleId) => {\n        const newTitles = titles.filter(t => t.id !== articleId);\n        setTitles(newTitles);\n        setArticleId(null);\n    }\n\n    return (\n        <AuthProvider>\n            <div className=\"App\">\n                <header>{!user ? <SignIn /> : <SignOut />}</header>\n                {user && <Nav titles={titles} setArticleId={setArticleId} addArticle={addArticle} removeArticle={removeArticle} />}\n                {user && <Article articleId={articleId} />}\n            </div>\n        </AuthProvider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}