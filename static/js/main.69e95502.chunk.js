(this.webpackJsonpbloghw=this.webpackJsonpbloghw||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(11),r=n.n(c),a=n(32),i=n.n(a),u=(n(39),n(10)),s=(n(40),n(24)),l=n(33),o=n(34),b=n(21),j=n(18),d=Object(o.a)({apiKey:"AIzaSyCN6iq3p3EJEyqf82PAocJWniT_YAPQga8",authDomain:"blog-e38ee.firebaseapp.com",projectId:"blog-e38ee",storageBucket:"blog-e38ee.appspot.com",messagingSenderId:"72733205522",appId:"1:72733205522:web:d5beca71e5b4a0c08864cb"}),O=Object(b.b)(),h=Object(j.h)(d),f=n(9),p=Object(c.createContext)(),x=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(u.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){O.onAuthStateChanged(i)}),[]),Object(f.jsx)(p.Provider,{value:{user:a},children:t})};function v(e){var t=e.titles,n=e.setArticleId,r=e.addArticle,a=e.removeArticle,i=Object(c.useContext)(p).user,s=Object(c.useState)(""),l=Object(u.a)(s,2),o=l[0],b=l[1],d=Object(c.useState)(""),O=Object(u.a)(d,2),x=O[0],v=O[1];return Object(f.jsxs)("nav",{children:[Object(f.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==x.trim()&&""!==o&&null!==i){var t={author:i.displayName,title:o,body:x,date:j.a.now()};Object(j.b)(Object(j.c)(h,"articles"),t).then((function(e){r({id:e.id,title:t.title})}))}},className:"post-form",children:[Object(f.jsx)("input",{type:"text",placeholder:"Title",value:o,onChange:function(e){b(e.target.value)}}),Object(f.jsx)("textarea",{placeholder:"Enter your post here",value:x,onChange:function(e){v(e.target.value)}}),Object(f.jsx)("input",{type:"submit",value:"Create New Post"})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("ul",{children:t&&t.map((function(e){return Object(f.jsxs)("li",{onClick:function(){return n(e.id)},children:[e.title,Object(f.jsx)("button",{onClick:function(){return t=e.id,void Object(j.d)(Object(j.e)(h,"articles",t)).then((function(e){a(t)}));var t},children:"Delete"})]},e.id)}))})]})}var g=n(0),m=n.n(g),y=n(2);function S(){return(S=Object(y.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.g)(Object(j.c)(h,"articles"));case 2:return t=e.sent,n=[],t.forEach((function(e){return n.push({id:e.id,title:e.data().title})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(y.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Object(j.f)(Object(j.e)(h,"articles",t));case 4:if(!(n=e.sent).exists()){e.next=9;break}return e.abrupt("return",{date:n.data().date,author:n.data().author,title:n.data().title,body:n.data().body});case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.articleId,n=Object(c.useState)(null),r=Object(u.a)(n,2),a=r[0],i=r[1];Object(c.useEffect)((function(){(function(e){return C.apply(this,arguments)})(t).then((function(e){return i(e)}))}),[t]);var s=a?new Date(1e3*a.date.seconds):null;return Object(f.jsx)("article",{children:a?Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{children:a.title}),Object(f.jsx)("p",{className:"date",children:"Posted: ".concat(s?s.toString():"N/A")}),Object(f.jsx)("p",{className:"author",children:"Author: ".concat(a.author)}),Object(f.jsx)("p",{className:"body",children:a.body})]}):Object(f.jsx)("p",{children:"No article selected"})})}function A(){return Object(f.jsxs)("div",{className:"signin",children:[Object(f.jsx)("p",{children:"Welcome to my blog"}),Object(f.jsx)("button",{onClick:function(){Object(s.g)(O,new s.a)},children:"Sign In"})]})}function N(){return O.currentUser&&Object(f.jsxs)("p",{children:["Hello, ",O.currentUser.displayName,"\xa0",Object(f.jsx)("button",{onClick:function(){return Object(s.h)(O)},children:"SignOut"})]})}function k(){Object(c.useEffect)((function(){(function(){return S.apply(this,arguments)})().then((function(e){return i(e.map((function(e){return{id:e.id,title:e.title}})))}))}),[]);var e=Object(l.a)(O),t=Object(u.a)(e,1)[0],n=Object(c.useState)([]),r=Object(u.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(null),o=Object(u.a)(s,2),b=o[0],j=o[1];return Object(f.jsx)(x,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("header",{children:t?Object(f.jsx)(N,{}):Object(f.jsx)(A,{})}),t&&Object(f.jsx)(v,{titles:a,setArticleId:j,addArticle:function(e){a.push({id:e.id,title:e.title}),j(e.id)},removeArticle:function(e){var t=a.filter((function(t){return t.id!==e}));i(t),j(null)}}),t&&Object(f.jsx)(w,{articleId:b})]})})}var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),I()}},[[44,1,2]]]);
//# sourceMappingURL=main.69e95502.chunk.js.map